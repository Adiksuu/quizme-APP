import{s as _,d as g,a as p,j as s,p as C,r as i}from"./index-OoN9LKTu.js";import{N as P}from"./Navbar-DQ3wAirG.js";import{F as j,b as w,c as N}from"./index-BXz00ADW.js";/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const A={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},E={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"]},x={"auth/invalid-email":{message:"Email is invalid!"},"auth/missing-password":{message:"Password is invalid!"},"auth/invalid-credential":{message:"Email or password is invalid!"},"auth/email-already-in-use":{message:"This email address already exists, try another!"},"auth/weak-password":{message:"Password is too easy to guess"}};function S(c,e,d,t,a,o,u){if(c.preventDefault(),e==="login")p.signInWithEmailAndPassword(d,t).then(async()=>{u(!0)}).catch(n=>{x[n.code]?o(x[n.code].message):o(n.code)});else{if(a.trim().length<3){o("The username is too short");return}p.createUserWithEmailAndPassword(d,t).then(()=>{const n={email:d,password:t,username:a};g.ref(`users/${p.currentUser.uid}/`).set(n),u(!0)}).catch(n=>{x[n.code]?o(x[n.code].message):o(n.code)})}}function F(c,e,d){_(c,e).then(async t=>{const a=t.user,o={email:a.email,password:`google-${a.uid}`,username:a.displayName};(await g.ref(`users/${a.uid}/`).once("value")).exists()||g.ref(`users/${a.uid}/`).set(o),d(!0)}).catch(t=>{console.log(t)})}function b(){return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"lines",children:[s.jsx("div",{className:"line"}),"or",s.jsx("div",{className:"line"})]}),s.jsxs("div",{className:"buttons",children:[s.jsxs("label",{onClick:()=>F(p,C,void 0),className:"provider",children:[s.jsx(j,{icon:A}),"Login with Google"]}),s.jsxs("label",{className:"provider",children:[s.jsx(j,{icon:E}),"Login with Facebook"]})]})]})}function k({setAuthState:c}){const[e,d]=i.useState(!1),t=i.useRef(null),[a,o]=i.useState(""),[u,n]=i.useState(""),[h,v]=i.useState(""),m=()=>{d(!e)},f=r=>{r.preventDefault(),S(r,"login",a,u,"",v,void 0)};return s.jsxs("div",{className:"auth_form",children:[s.jsxs("div",{className:"form_info",children:[s.jsx("h2",{children:"Login to your account"}),s.jsx("p",{children:"Fill the inputs below to login to your account"})]}),s.jsxs("form",{onSubmit:r=>f(r),children:[s.jsxs("div",{className:"input",children:[s.jsx("span",{children:"Email"}),s.jsx("div",{className:"_input",children:s.jsx("input",{type:"email",id:"_email",placeholder:"xyz@example.com",value:a,onChange:r=>o(r.target.value)})})]}),s.jsxs("div",{className:"input",children:[s.jsx("span",{children:"Password"}),s.jsxs("div",{className:"_input",children:[s.jsx("input",{ref:t,type:e?"text":"password",placeholder:"Your password",id:"_password",value:u,onChange:r=>n(r.target.value)}),s.jsx("label",{onClick:()=>m(),children:s.jsx(j,{icon:e?w:N})})]})]}),h!==""&&s.jsx("div",{className:"error",children:h}),s.jsx("div",{className:"buttons",children:s.jsx("button",{id:"_auth",children:"Login"})}),s.jsx(b,{})]}),s.jsx("div",{className:"other",children:s.jsxs("p",{children:["Don't have an account? ",s.jsx("span",{onClick:()=>c("register"),children:"Register"})]})})]})}function R({setAuthState:c}){const[e,d]=i.useState(!1),t=i.useRef(null),[a,o]=i.useState(""),[u,n]=i.useState(""),[h,v]=i.useState(""),[m,f]=i.useState(""),r=()=>{d(!e)},y=l=>{l.preventDefault(),S(l,"register",a,h,u,f,void 0)};return s.jsxs("div",{className:"auth_form",children:[s.jsxs("div",{className:"form_info",children:[s.jsx("h2",{children:"Create your account"}),s.jsx("p",{children:"Fill the inputs below to create new account"})]}),s.jsxs("form",{onSubmit:l=>y(l),children:[s.jsxs("div",{className:"input",children:[s.jsx("span",{children:"Username"}),s.jsx("div",{className:"_input",children:s.jsx("input",{type:"text",id:"_username",placeholder:"example_username",value:u,onChange:l=>n(l.target.value)})})]}),s.jsxs("div",{className:"input",children:[s.jsx("span",{children:"Email"}),s.jsx("div",{className:"_input",children:s.jsx("input",{type:"email",id:"_email",placeholder:"xyz@example.com",value:a,onChange:l=>o(l.target.value)})})]}),s.jsxs("div",{className:"input",children:[s.jsx("span",{children:"Password"}),s.jsxs("div",{className:"_input",children:[s.jsx("input",{ref:t,type:e?"text":"password",placeholder:"Your password",id:"_password",value:h,onChange:l=>v(l.target.value)}),s.jsx("label",{onClick:()=>r(),children:s.jsx(j,{icon:e?w:N})})]})]}),m!==""&&s.jsx("div",{className:"error",children:m}),s.jsx("div",{className:"buttons",children:s.jsx("button",{id:"_auth",children:"Register"})}),s.jsx(b,{})]}),s.jsx("div",{className:"other",children:s.jsxs("p",{children:["Already have an account? ",s.jsx("span",{onClick:()=>c("login"),children:"Login"})]})})]})}function L(){const[c,e]=i.useState("login");return s.jsx("section",{className:"auth",children:c==="login"?s.jsx(k,{setAuthState:e}):s.jsx(R,{setAuthState:e})})}function $(){return s.jsxs(s.Fragment,{children:[s.jsx(P,{}),s.jsx("main",{children:s.jsx(L,{})})]})}export{$ as default};
